[{"C:\\Users\\ziv\\WebstormProjects\\project\\src\\index.js":"1","C:\\Users\\ziv\\WebstormProjects\\project\\src\\main.js":"2","C:\\Users\\ziv\\WebstormProjects\\project\\src\\Routes.js":"3","C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\LoginForm.js":"4","C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\Modal.js":"5","C:\\Users\\ziv\\WebstormProjects\\project\\src\\resources\\responsibleTypes.js":"6","C:\\Users\\ziv\\WebstormProjects\\project\\src\\resources\\organizationTypes.js":"7","C:\\Users\\ziv\\WebstormProjects\\project\\src\\resources\\genders.js":"8","C:\\Users\\ziv\\WebstormProjects\\project\\src\\ClientUtils.js":"9","C:\\Users\\ziv\\WebstormProjects\\project\\src\\resources\\areasOfInterest.js":"10","C:\\Users\\ziv\\WebstormProjects\\project\\src\\resources\\servicesList.js":"11","C:\\Users\\ziv\\WebstormProjects\\project\\src\\resources\\digitalDevicesList.js":"12","C:\\Users\\ziv\\WebstormProjects\\project\\src\\resources\\preferredDaysAndHoursList.js":"13","C:\\Users\\ziv\\WebstormProjects\\project\\src\\resources\\cities.js":"14","C:\\Users\\ziv\\WebstormProjects\\project\\src\\resources\\languages.js":"15","C:\\Users\\ziv\\WebstormProjects\\project\\src\\services\\server.js":"16","C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\Navbar.js":"17","C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\registrationForms\\RegistrationFormElderly.js":"18","C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\pages\\VolunteerPage.js":"19","C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\pages\\AdminPage.js":"20","C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\meetings\\MeetingsPage.js":"21","C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\registrationForms\\RegistrationFormResponsible.js":"22","C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\registrationForms\\RegistrationFormOrganization.js":"23","C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\registrationForms\\RegistrationFormVolunteer.js":"24","C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\registrationForms\\ResponsiblePage.js":"25","C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\manage\\ManageUsers.js":"26","C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\meetings\\MeetingTable.js":"27","C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\users\\AssignableUsers.js":"28","C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\meetings\\MeetingView.js":"29","C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\users\\AssignableUser.js":"30","C:\\Users\\ziv\\WebstormProjects\\project\\src\\services\\videoService.js":"31","C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\users\\UsersTable.js":"32","C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\users\\UserView.js":"33","C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\pages\\VideoCallPage.js":"34","C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\video\\VideoComponent.js":"35","C:\\Users\\ziv\\WebstormProjects\\project\\src\\agora.config.js":"36","C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\pages\\ElderlyPage.js":"37","C:\\Users\\ziv\\WebstormProjects\\project\\src\\services\\errorHandler.js":"38","C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\datePicker\\DateModal.js":"39","C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\datePicker\\dateAndTimePicker.js":"40","C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\pages\\ChangePasswordPage.js":"41"},{"size":235,"mtime":1615915318281,"results":"42","hashOfConfig":"43"},{"size":300,"mtime":1615915318267,"results":"44","hashOfConfig":"43"},{"size":2404,"mtime":1617207084821,"results":"45","hashOfConfig":"43"},{"size":1940,"mtime":1616081984131,"results":"46","hashOfConfig":"43"},{"size":690,"mtime":1617199287311,"results":"47","hashOfConfig":"43"},{"size":273,"mtime":1609856906826,"results":"48","hashOfConfig":"43"},{"size":227,"mtime":1609857699795,"results":"49","hashOfConfig":"43"},{"size":174,"mtime":1609701449399,"results":"50","hashOfConfig":"43"},{"size":2273,"mtime":1617194758737,"results":"51","hashOfConfig":"43"},{"size":673,"mtime":1609701449299,"results":"52","hashOfConfig":"43"},{"size":189,"mtime":1617127793509,"results":"53","hashOfConfig":"43"},{"size":798,"mtime":1609869256273,"results":"54","hashOfConfig":"43"},{"size":1287,"mtime":1609869379076,"results":"55","hashOfConfig":"43"},{"size":3952,"mtime":1609701449283,"results":"56","hashOfConfig":"43"},{"size":817,"mtime":1609701449319,"results":"57","hashOfConfig":"43"},{"size":3593,"mtime":1617207699197,"results":"58","hashOfConfig":"43"},{"size":508,"mtime":1617087629427,"results":"59","hashOfConfig":"43"},{"size":15201,"mtime":1617194912697,"results":"60","hashOfConfig":"43"},{"size":1120,"mtime":1616662157279,"results":"61","hashOfConfig":"43"},{"size":1397,"mtime":1616662178570,"results":"62","hashOfConfig":"43"},{"size":329,"mtime":1616662157213,"results":"63","hashOfConfig":"43"},{"size":8831,"mtime":1617200221142,"results":"64","hashOfConfig":"43"},{"size":5804,"mtime":1617203856395,"results":"65","hashOfConfig":"43"},{"size":22860,"mtime":1617194812926,"results":"66","hashOfConfig":"43"},{"size":2792,"mtime":1617189554044,"results":"67","hashOfConfig":"43"},{"size":1028,"mtime":1617131413997,"results":"68","hashOfConfig":"43"},{"size":628,"mtime":1616068504574,"results":"69","hashOfConfig":"43"},{"size":419,"mtime":1616682041727,"results":"70","hashOfConfig":"43"},{"size":972,"mtime":1616078515615,"results":"71","hashOfConfig":"43"},{"size":1458,"mtime":1617131237331,"results":"72","hashOfConfig":"43"},{"size":3377,"mtime":1616013232098,"results":"73","hashOfConfig":"43"},{"size":819,"mtime":1617131021604,"results":"74","hashOfConfig":"43"},{"size":645,"mtime":1617133014868,"results":"75","hashOfConfig":"43"},{"size":313,"mtime":1616071503986,"results":"76","hashOfConfig":"43"},{"size":14534,"mtime":1616604276547,"results":"77","hashOfConfig":"43"},{"size":63,"mtime":1616065213462,"results":"78","hashOfConfig":"43"},{"size":1008,"mtime":1616662157265,"results":"79","hashOfConfig":"43"},{"size":270,"mtime":1616662747650,"results":"80","hashOfConfig":"43"},{"size":465,"mtime":1616933245215,"results":"81","hashOfConfig":"43"},{"size":932,"mtime":1617087499908,"results":"82","hashOfConfig":"43"},{"size":2076,"mtime":1617207700017,"results":"83","hashOfConfig":"43"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},"1rima1a",{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"103","usedDeprecatedRules":"86"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"122","usedDeprecatedRules":"86"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"131","usedDeprecatedRules":"86"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"136","usedDeprecatedRules":"86"},{"filePath":"137","messages":"138","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"139","messages":"140","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"141","messages":"142","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"143","messages":"144","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"145","messages":"146","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"147","messages":"148","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"149","messages":"150","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"151"},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"156"},{"filePath":"157","messages":"158","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"159","messages":"160","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"161","usedDeprecatedRules":"86"},{"filePath":"162","messages":"163","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"164","messages":"165","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"166","messages":"167","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"168","messages":"169","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"170","messages":"171","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"172","messages":"173","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},"C:\\Users\\ziv\\WebstormProjects\\project\\src\\index.js",[],["174","175"],"C:\\Users\\ziv\\WebstormProjects\\project\\src\\main.js",[],"C:\\Users\\ziv\\WebstormProjects\\project\\src\\Routes.js",[],"C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\LoginForm.js",[],"C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\Modal.js",[],"C:\\Users\\ziv\\WebstormProjects\\project\\src\\resources\\responsibleTypes.js",[],"C:\\Users\\ziv\\WebstormProjects\\project\\src\\resources\\organizationTypes.js",[],"C:\\Users\\ziv\\WebstormProjects\\project\\src\\resources\\genders.js",[],"C:\\Users\\ziv\\WebstormProjects\\project\\src\\ClientUtils.js",["176","177","178"],"import generator from 'generate-password';\r\n// HTTPS=true;SSL_CRT_FILE=certificate.crt;SSL_KEY_FILE=privateKey.key\r\n// exports.serverURL = 'http://132.72.23.153:8114';\r\n\r\nconst serverURL = 'http://localhost:3001';\r\n\r\nconst regexes = {\r\n\thebrewEnglishRegex: /^[a-z\\u0590-\\u05fe ]+$/i,\r\n\temailRegex: /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/,\r\n\tpasswordRegex: /^.{8,}$/,\r\n\tusernameRegex: /^[0-9]{9}$/,\r\n\tphoneNumberRegex: /^[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,6}$/i,\r\n\tyearRegex: /^(19|20)\\d{2}$/\r\n};\r\n\r\nconst generatePassword = function () {\r\n\tconst password = generator.generate({\r\n\t\tlength: 10,\r\n\t\tnumbers: true,\r\n\t\tsymbols: true\r\n\t});\r\n\r\n\tconsole.log(password);\r\n\treturn password;\r\n}\r\n\r\nconst convertElderlyDetailsFromDB = function(records) {\r\n\trecords = records.map((dic) => {\r\n\t\treturn {\r\n\t\t\tuserName: dic.userName,\r\n\t\t\tfirstName: dic.firstName,\r\n\t\t\tlastName: dic.lastName,\r\n\t\t\tbirthYear: dic.birthYear,\r\n\t\t\tcity: dic.city,\r\n\t\t\temail: dic.email,\r\n\t\t\tgender: dic.gender,\r\n\t\t\tareasOfInterest: JSON.parse(dic.areasOfInterest),\r\n\t\t\tlanguages: JSON.parse(dic.languages),\r\n\t\t\torganizationName: dic.organizationName,\r\n\t\t\tgenderToMeetWith: dic.genderToMeetWith,\r\n\t\t\twantedServices: JSON.parse(dic.wantedServices),\r\n\t\t\tpreferredDays: JSON.parse(dic.preferredDays),\r\n\t\t\tdigitalDevices: JSON.parse(dic.digitalDevices),\r\n\t\t\tadditionalInformation: dic.additionalInformation\r\n\r\n\t\t};\r\n\t});\r\n\r\n\treturn records;\r\n};\r\n\r\nconst convertVolunteerDetailsFromDB = function (records) {\r\n\trecords = records.map((dic) => {\r\n\t\treturn {\r\n\t\t\tuserName: dic.userName,\r\n\t\t\tfirstName: dic.firstName,\r\n\t\t\tlastName: dic.lastName,\r\n\t\t\tbirthYear: dic.birthYear,\r\n\t\t\tcity: dic.city,\r\n\t\t\temail: dic.email,\r\n\t\t\tgender: dic.gender,\r\n\t\t\tareasOfInterest: JSON.parse(dic.areasOfInterest),\r\n\t\t\tlanguages: JSON.parse(dic.languages),\r\n\t\t\torganizationName: dic.organizationName,\r\n\t\t\tservices: JSON.parse(dic.services),\r\n\t\t\tpreferredDays: JSON.parse(dic.preferredDays),\r\n\t\t\tdigitalDevices: JSON.parse(dic.digitalDevices),\r\n\t\t\tadditionalInformation: dic.additionalInformation\r\n\t\t};\r\n\t});\r\n\r\n\treturn records;\r\n};\r\n\r\nexport {\r\n\tserverURL,\r\n\tregexes,\r\n\tgeneratePassword,\r\n\tconvertElderlyDetailsFromDB,\r\n\tconvertVolunteerDetailsFromDB\r\n};","C:\\Users\\ziv\\WebstormProjects\\project\\src\\resources\\areasOfInterest.js",[],"C:\\Users\\ziv\\WebstormProjects\\project\\src\\resources\\servicesList.js",[],"C:\\Users\\ziv\\WebstormProjects\\project\\src\\resources\\digitalDevicesList.js",[],"C:\\Users\\ziv\\WebstormProjects\\project\\src\\resources\\preferredDaysAndHoursList.js",[],"C:\\Users\\ziv\\WebstormProjects\\project\\src\\resources\\cities.js",[],"C:\\Users\\ziv\\WebstormProjects\\project\\src\\resources\\languages.js",[],"C:\\Users\\ziv\\WebstormProjects\\project\\src\\services\\server.js",[],"C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\Navbar.js",[],"C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\registrationForms\\RegistrationFormElderly.js",["179"],"import React, { Component } from 'react';\r\nimport Select from 'react-select';\r\nimport Modal from '../Modal.js';\r\nimport languagesList from '../../resources/languages';\r\nimport areasOfInterestList from '../../resources/areasOfInterest';\r\nimport citiesList from '../../resources/cities';\r\nimport genderList from '../../resources/genders';\r\nimport preferredDaysAndHoursList from '../../resources/preferredDaysAndHoursList';\r\nimport digitalDevicesList from '../../resources/digitalDevicesList';\r\nimport servicesList from '../../resources/servicesList';\r\nimport { registerElderly } from '../../services/server';\r\nimport { generatePassword, regexes } from '../../ClientUtils';\r\nimport './RegistrationForm.css';\r\n\r\nclass RegistrationFormElderly extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\torganizationName: '',\r\n\t\t\tfirstName: '',\r\n\t\t\tlastName: '',\r\n\t\t\temail: '',\r\n\t\t\tusername: '',\r\n\t\t\tpassword: '',\r\n\t\t\tbirthYear: '',\r\n\t\t\tcity: '',\r\n\t\t\tgender: '',\r\n\t\t\tphoneNumber: '',\r\n\t\t\tselectedAreasOfInterest: [],\r\n\t\t\tselectedLanguages: [],\r\n\t\t\twantedServices: [],\r\n\t\t\tpreferredDaysAndHours: [],\r\n\t\t\tdigitalDevices: [],\r\n\t\t\tgenderToMeetWith: '',\r\n\t\t\tadditionalInformation: '',\r\n\t\t\tvalid: {\r\n\t\t\t\tfirstName: true,\r\n\t\t\t\tlastName: true,\r\n\t\t\t\tusername: true,\r\n\t\t\t\temail: true,\r\n\t\t\t\tbirthYear: true,\r\n\t\t\t\tphoneNumber: true\r\n\t\t\t},\r\n\t\t\ttouched: {\r\n\t\t\t\torganizationName: false,\r\n\t\t\t\tfirstName: false,\r\n\t\t\t\tlastName: false,\r\n\t\t\t\tusername: false,\r\n\t\t\t\temail: false,\r\n\t\t\t\tgender: false,\r\n\t\t\t\tbirthYear: false,\r\n\t\t\t\tphoneNumber: false\r\n\t\t\t},\r\n\t\t\tmodalisOpen: false\r\n\t\t};\r\n\r\n\t\tthis.rexExpMap = {\r\n\t\t\tadditionalInformation: regexes.hebrewEnglishRegex,\r\n\t\t\torganizationName: regexes.hebrewEnglishRegex,\r\n\t\t\tfirstName: regexes.hebrewEnglishRegex,\r\n\t\t\tlastName: regexes.hebrewEnglishRegex,\r\n\t\t\tusername: regexes.usernameRegex,\r\n\t\t\temail: regexes.emailRegex,\r\n\t\t\tbirthYear: regexes.yearRegex,\r\n\t\t\tphoneNumber: regexes.phoneNumberRegex\r\n\t\t};\r\n\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t\tthis.checkData = this.checkData.bind(this);\r\n\t\tthis.toggleModal = this.toggleModal.bind(this);\r\n\t\tthis.checkOnSubmit = this.checkOnSubmit.bind(this);\r\n\t}\r\n\r\n\thandleChange = (e, name) => {\r\n\t\tif(name === 'username' && this.state.password === ''){\r\n\t\t\tthis.setState({password: generatePassword()});\r\n\t\t}\t\r\n\t\tthis.setState({[e.target.name]: e.target.value}, () => {\r\n\t\t\tthis.checkData(this.rexExpMap[name], this.state[name], this.state.valid[name], name);\r\n\t\t});\r\n\t};\r\n\r\n\tcheckData(regExp, stateName, stateValid, name) {\r\n\t\tthis.setState({\r\n\t\t\ttouched: {...this.state.touched, [name]: true}\r\n\t\t});\r\n\t\tif (regExp.test(stateName)) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tvalid: {...this.state.valid, [name]: true}\r\n\t\t\t});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({\r\n\t\t\t\tvalid: {...this.state.valid, [name]: false}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tvalidate(firstName, lastName, username, email, birthYear, phoneNumber) {\r\n\t\treturn {\r\n\t\t\tfirstName: firstName.length === 0,\r\n\t\t\tlastName: lastName.length === 0,\r\n\t\t\tusername: username.length === 0,\r\n\t\t\temail: email.length === 0,\r\n\t\t\tbirthYear: birthYear.length === 0,\r\n\t\t\tphoneNumber: phoneNumber.length === 0\r\n\t\t};\r\n\t}\r\n\r\n\trequiredStyle(name) {\r\n\t\tconst show = (this.state[name] === '' || !this.state.valid[name]) && this.state.touched[name];\r\n\t\treturn {display: show ? 'block' : 'none'};\r\n\t}\r\n\r\n\terrorMessages(name) {\r\n\t\tconst requiredStr = 'This field is required.';\r\n\t\tconst invalidStr = 'Enter valid ' + name + '.';\r\n\t\treturn !this.state.valid[name] && this.state[name] !== '' ? invalidStr : requiredStr;\r\n\t}\r\n\r\n\tcheckOnSubmit() {\r\n\t\tconst {firstName, lastName, username, email, birthYear, phoneNumber} = this.state;\r\n\t\tconst formFilled = !(firstName === '' || lastName === '' || username === '' || email === '' || birthYear === '' || phoneNumber === '');\r\n\t\tconst formInvalid = Object.keys(this.state.valid).some(x => !this.state.valid[x]);\r\n\t\tconst formHasErrors = !formFilled || formInvalid;\r\n\r\n\t\tif (!formHasErrors) {\r\n\t\t\tthis.handleSubmit();\r\n\t\t\tthis.toggleModal();\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\ttouched: {\r\n\t\t\t\torganizationName: true,\r\n\t\t\t\tfirstName: true,\r\n\t\t\t\tlastName: true,\r\n\t\t\t\tusername: true,\r\n\t\t\t\temail: true,\r\n\t\t\t\tbirthYear: true,\r\n\t\t\t\tphoneNumber: true\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tasync handleSubmit() {\r\n\t\ttry {\r\n\t\t\tconst response = await registerElderly(this.state);\r\n\t\t\tawait response.json();\r\n\t\t\tthis.setState({message: 'הרישום הצליח'});\r\n\r\n\t\t}\r\n\t\tcatch (error) {\r\n\t\t\tthis.setState({message: `הרישום נכשל. \\n ${error.message}`});\r\n\t\t}\r\n\t}\r\n\r\n\ttoggleModal() {\r\n\t\tthis.setState(prevState => ({\r\n\t\t\tmodalisOpen: !prevState.modalisOpen\r\n\t\t}));\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst errors = this.validate(this.state.firstName, this.state.lastName,\r\n\t\t\tthis.state.username, this.state.email, this.state.birthYear, this.state.phoneNumber);\r\n\t\tconst shouldMarkError = (field) => {\r\n\t\t\tconst hasError = errors[field];\r\n\t\t\tconst shouldShow = this.state.touched[field];\r\n\t\t\treturn hasError ? shouldShow : false;\r\n\t\t};\r\n\t\tconst helpMessage = (name) => {\r\n\t\t\treturn {display: shouldMarkError(name) ? 'none' : 'block'};\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{/*<Navbar/>*/}\r\n\t\t\t\t<h2 className=\"header\">\r\n\t\t\t\t\tטופס רישום קשיש\r\n\t\t\t\t</h2>\r\n\t\t\t\t<div className=\"register-wrapper\">\r\n\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t<div className=\"register-form\">\r\n\t\t\t\t\t\t\t<div className=\"form\">\r\n\t\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\tשם ארגון\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tisRtl\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"בחר/י...\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"organizationName\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={shouldMarkError('organizationName') ? 'error' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.organizationName}\r\n\t\t\t\t\t\t\t\t\t\t\toptions={this.props.history.location.state}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(value) => this.setState({organizationName: value})}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<span className=\"required-field\"\r\n\t\t\t\t\t\t\t\t\t\t  style={this.requiredStyle('organizationName')}>{this.errorMessages('organizationName')}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\tשם פרטי\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.firstName}\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"firstName\" id=\"firstName\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={shouldMarkError('firstName') ? 'error' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.handleChange(e, 'firstName')}/>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<span className=\"required-field\"\r\n\t\t\t\t\t\t\t\t\t\t  style={this.requiredStyle('firstName')}>{this.errorMessages('firstName')}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\tשם משפחה\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.lastName}\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"lastName\" id=\"lastName\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={shouldMarkError('lastName') ? 'error' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.handleChange(e, 'lastName')}/>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<span className=\"required-field\"\r\n\t\t\t\t\t\t\t\t\t\t  style={this.requiredStyle('lastName')}>{this.errorMessages('lastName')}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\tמספר תעודת זהות\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.username}\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={shouldMarkError('username') ? 'error' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.handleChange(e, 'username')}/>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<span className=\"required-field\"\r\n\t\t\t\t\t\t\t\t\t\t  style={this.requiredStyle('username')}>{this.errorMessages('username')}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\tשנת לידה\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\tmin=\"1900\"\r\n\t\t\t\t\t\t\t\t\t\t\tmax=\"2099\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.birthYear}\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"birthYear\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={shouldMarkError('birthYear') ? 'error' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.handleChange(e, 'birthYear')}/>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<span className=\"required-field\"\r\n\t\t\t\t\t\t\t\t\t\t  style={this.requiredStyle('birthYear')}>{this.errorMessages('birthYear')}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\tכתובת דואר אלקטרוני\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.email}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={shouldMarkError('email') ? 'error' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.handleChange(e, 'email')}/>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<span className=\"required-field\"\r\n\t\t\t\t\t\t\t\t\t\t  style={this.requiredStyle('email')}>{this.errorMessages('email')}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\tמספר טלפון\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"phoneNumber\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.phoneNumber}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={shouldMarkError('phoneNumber') ? 'error' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.handleChange(e, 'phoneNumber')}/>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<span className=\"required-field\"\r\n\t\t\t\t\t\t\t\t\t\t  style={this.requiredStyle('phoneNumber')}>{this.errorMessages('phoneNumber')}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\tעיר מגורים\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tisRtl\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"בחר/י...\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"city\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={shouldMarkError('city') ? 'error' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.city}\r\n\t\t\t\t\t\t\t\t\t\t\toptions={citiesList}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(value) => this.setState({city: value})}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<span className=\"required-field\"\r\n\t\t\t\t\t\t\t\t\t\t  style={this.requiredStyle('city')}>{this.errorMessages('city')}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\tמגדר\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tisRtl\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"בחר/י...\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"gender\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={shouldMarkError('gender') ? 'error' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.gender}\r\n\t\t\t\t\t\t\t\t\t\t\toptions={genderList}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(value) => this.setState({gender: value})}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<span className=\"required-field\"\r\n\t\t\t\t\t\t\t\t\t\t  style={this.requiredStyle('gender')}>{this.errorMessages('gender')}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\tתחומי עניין\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tisMulti\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"בחירה מרובה...\"\r\n\t\t\t\t\t\t\t\t\t\t\tisRtl\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"selectedAreasOfInterest\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={shouldMarkError('selectedAreasOfInterest') ? 'error' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.selectedAreasOfInterest}\r\n\t\t\t\t\t\t\t\t\t\t\toptions={areasOfInterestList}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(values) => this.setState({selectedAreasOfInterest: values})}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<span className=\"required-field\"\r\n\t\t\t\t\t\t\t\t\t\t  style={this.requiredStyle('selectedAreasOfInterest')}>{this.errorMessages('selectedAreasOfInterest')}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\tשפות\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tisMulti\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"בחירה מרובה...\"\r\n\t\t\t\t\t\t\t\t\t\t\tisRtl\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"languages\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={shouldMarkError('selectedLanguages') ? 'error' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.selectedLanguages}\r\n\t\t\t\t\t\t\t\t\t\t\toptions={languagesList}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(values) => this.setState({selectedLanguages: values})}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<span className=\"required-field\"\r\n\t\t\t\t\t\t\t\t\t\t  style={this.requiredStyle('selectedLanguages')}>{this.errorMessages('selectedLanguages')}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\tימים ושעות מועדפים\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tisMulti\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"בחירה מרובה...\"\r\n\t\t\t\t\t\t\t\t\t\t\tisRtl\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"preferredDaysAndHours\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={shouldMarkError('preferredDaysAndHours') ? 'error' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.preferredDaysAndHours}\r\n\t\t\t\t\t\t\t\t\t\t\toptions={preferredDaysAndHoursList}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(values) => this.setState({preferredDaysAndHours: values})}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<span className=\"required-field\"\r\n\t\t\t\t\t\t\t\t\t\t  style={this.requiredStyle('preferredDaysAndHours')}>{this.errorMessages('preferredDaysAndHours')}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\tמעדיף לדבר עם\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tisRtl\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"בחר/י...\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"genderToMeetWith\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={shouldMarkError('genderToMeetWith') ? 'error' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.genderToMeetWith}\r\n\t\t\t\t\t\t\t\t\t\t\toptions={genderList}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(value) => this.setState({genderToMeetWith: value})}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<span className=\"required-field\"\r\n\t\t\t\t\t\t\t\t\t\t  style={this.requiredStyle('genderToMeetWith')}>{this.errorMessages('genderToMeetWith')}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\tמכשירים טכנולוגיים שברשותי ורמת הידע בהם\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tisMulti\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"בחירה מרובה...\"\r\n\t\t\t\t\t\t\t\t\t\t\tisRtl\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"digitalDevices\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={shouldMarkError('digitalDevices') ? 'error' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.digitalDevices}\r\n\t\t\t\t\t\t\t\t\t\t\toptions={digitalDevicesList}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(values) => this.setState({digitalDevices: values})}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<span className=\"required-field\"\r\n\t\t\t\t\t\t\t\t\t\t  style={this.requiredStyle('digitalDevices')}>{this.errorMessages('digitalDevices')}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\tסוגי שירות רצויים\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tisMulti\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"בחירה מרובה...\"\r\n\t\t\t\t\t\t\t\t\t\t\tisRtl\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"wantedServices\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={shouldMarkError('wantedServices') ? 'error' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.wantedServices}\r\n\t\t\t\t\t\t\t\t\t\t\toptions={servicesList}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(values) => this.setState({wantedServices: values})}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<span className=\"required-field\"\r\n\t\t\t\t\t\t\t\t\t\t  style={this.requiredStyle('wantedServices')}>{this.errorMessages('wantedServices')}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\tעוד משהו שכדאי לדעת עלי\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"additionalInformation\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={shouldMarkError('additionalInformation') ? 'error' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.additionalInformation}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.handleChange(e, 'additionalInformation')}/>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<span className=\"required-field\"\r\n\t\t\t\t\t\t\t\t\t\t  style={this.requiredStyle('additionalInformation')}>{this.errorMessages('additionalInformation')}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<button className=\"sb-btn\" type=\"button\" onClick={this.checkOnSubmit}>SUBMIT</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{this.state.modalisOpen ?\r\n\t\t\t\t\t\t\t<Modal\r\n\t\t\t\t\t\t\t\ttext='Your Data'\r\n\t\t\t\t\t\t\t\t{...this.state}\r\n\t\t\t\t\t\t\t\tcloseModal={this.toggleModal}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default RegistrationFormElderly;","C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\pages\\VolunteerPage.js",[],"C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\pages\\AdminPage.js",[],"C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\meetings\\MeetingsPage.js",[],"C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\registrationForms\\RegistrationFormResponsible.js",["180"],"import React, { Component } from 'react';\r\nimport Select from 'react-select';\r\nimport Modal from '../Modal.js';\r\nimport genderList from '../../resources/genders';\r\nimport { registerResponsible } from '../../services/server';\r\nimport responsibleTypes from '../../resources/responsibleTypes';\r\nimport './RegistrationForm.css';\r\nimport { generatePassword, regexes } from '../../ClientUtils';\r\n\r\nclass RegistrationFormResponsible extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\torganizationName: '',\r\n\t\t\tfirstName: '',\r\n\t\t\tlastName: '',\r\n\t\t\temail: '',\r\n\t\t\tusername: '',\r\n\t\t\tpassword: '',\r\n\t\t\tgender: '',\r\n\t\t\tresponsibleType: '',\r\n\t\t\tvalid: {\r\n\t\t\t\tfirstName: true,\r\n\t\t\t\tlastName: true,\r\n\t\t\t\tusername: true,\r\n\t\t\t\tpassword: true,\r\n\t\t\t\temail: true\r\n\t\t\t},\r\n\t\t\ttouched: {\r\n\t\t\t\tfirstName: false,\r\n\t\t\t\tlastName: false,\r\n\t\t\t\tusername: false,\r\n\t\t\t\tpassword: false,\r\n\t\t\t\temail: false,\r\n\t\t\t\tgender: false\r\n\t\t\t},\r\n\t\t\tmodalisOpen: false\r\n\t\t};\r\n\r\n\t\tthis.rexExpMap = {\r\n\t\t\tfirstName: regexes.hebrewEnglishRegex,\r\n\t\t\tlastName: regexes.hebrewEnglishRegex,\r\n\t\t\tusername: regexes.usernameRegex,\r\n\t\t\tpassword: regexes.passwordRegex,\r\n\t\t\temail: regexes.emailRegex\r\n\t\t};\r\n\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t\tthis.checkData = this.checkData.bind(this);\r\n\t\tthis.toggleModal = this.toggleModal.bind(this);\r\n\t\tthis.checkOnSubmit = this.checkOnSubmit.bind(this);\r\n\t\tthis.closeModal= this.closeModal.bind(this);\r\n\t}\r\n\r\n\thandleChange = (e, name) => {\r\n\t\tif(name === 'username' && this.state.password === ''){\r\n\t\t\tthis.setState({password: generatePassword()});\r\n\t\t}\r\n\t\tthis.setState({[e.target.name]: e.target.value}, () => {\r\n\t\t\tthis.checkData(this.rexExpMap[name], this.state[name], this.state.valid[name], name);\r\n\t\t});\r\n\t};\r\n\r\n\tcheckData(regExp, stateName, stateValid, name) {\r\n\t\tthis.setState({\r\n\t\t\ttouched: {...this.state.touched, [name]: true}\r\n\t\t});\r\n\t\tif (regExp.test(stateName)) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tvalid: {...this.state.valid, [name]: true}\r\n\t\t\t});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({\r\n\t\t\t\tvalid: {...this.state.valid, [name]: false}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tvalidate(firstName, lastName, username, password, email) {\r\n\t\treturn {\r\n\t\t\tfirstName: firstName.length === 0,\r\n\t\t\tlastName: lastName.length === 0,\r\n\t\t\tusername: username.length === 0,\r\n\t\t\tpassword: password.length === 0,\r\n\t\t\temail: email.length === 0\r\n\t\t};\r\n\t}\r\n\r\n\trequiredStyle(name) {\r\n\t\tconst show = (this.state[name] === '' || !this.state.valid[name]) && this.state.touched[name];\r\n\t\treturn {display: show ? 'block' : 'none'};\r\n\t}\r\n\r\n\terrorMessages(name) {\r\n\t\tconst requiredStr = 'This field is required.';\r\n\t\tconst invalidStr = 'Enter valid ' + name + '.';\r\n\t\treturn !this.state.valid[name] && this.state[name] !== '' ? invalidStr : requiredStr;\r\n\t}\r\n\r\n\tcheckOnSubmit() {\r\n\t\tconst {firstName, lastName, username, email} = this.state;\r\n\t\tconst formFilled = !(firstName === '' || lastName === '' || username === '' || email === '');\r\n\t\tconst formInvalid = Object.keys(this.state.valid).some(x => !this.state.valid[x]);\r\n\t\tconst formHasErrors = !formFilled || formInvalid;\r\n\r\n\t\tif (!formHasErrors) {\r\n\t\t\tthis.handleSubmit();\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthis.setState({message: `אחד או יותר מהשדות לא תקינים`});\r\n\t\t\tthis.toggleModal();\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\ttouched: {\r\n\t\t\t\tfirstName: true,\r\n\t\t\t\tlastName: true,\r\n\t\t\t\tusername: true,\r\n\t\t\t\tpassword: true,\r\n\t\t\t\temail: true\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tasync handleSubmit() {\r\n\t\ttry {\r\n\t\t\tconst response = await registerResponsible(this.state);\r\n\t\t\tawait response.json();\r\n\t\t\tthis.setState({message: 'הרישום הצליח'});\r\n\t\t\tthis.toggleModal();\r\n\t\t}\r\n\t\tcatch (error) {\r\n\t\t\tthis.setState({message: `הרישום נכשל. \\n ${error.message}`});\r\n\t\t\tthis.toggleModal();\r\n\t\t}\r\n\t}\r\n\r\n\ttoggleModal() {\r\n\t\tthis.setState(prevState => ({\r\n\t\t\tmodalisOpen: !prevState.modalisOpen\r\n\t\t}));\r\n\t}\r\n\r\n\tcloseModal() {\r\n\t\tthis.setState({\r\n\t\t\tmodalisOpen: false\r\n\t\t});\r\n\r\n\t\tthis.props.history.push(\"/admin\");\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst errors = this.validate(this.state.firstName, this.state.lastName,\r\n\t\t\tthis.state.username, this.state.password, this.state.email);\r\n\t\tconst shouldMarkError = (field) => {\r\n\t\t\tconst hasError = errors[field];\r\n\t\t\tconst shouldShow = this.state.touched[field];\r\n\t\t\treturn hasError ? shouldShow : false;\r\n\t\t};\r\n\t\tconst helpMessage = (name) => {\r\n\t\t\treturn {display: shouldMarkError(name) ? 'none' : 'block'};\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h2 className=\"header\">\r\n\t\t\t\t\tטופס רישום אחראי\r\n\t\t\t\t</h2>\r\n\t\t\t\t<div className=\"register-wrapper\">\r\n\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t<div className=\"register-form\">\r\n\t\t\t\t\t\t\t<div className=\"form\">\r\n\t\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\tשם ארגון\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tisRtl\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"בחר/י...\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"organizationName\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={shouldMarkError('organizationName') ? 'error' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.organizationName}\r\n\t\t\t\t\t\t\t\t\t\t\toptions={this.props.history.location.state}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(value) => this.setState({organizationName: value})}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<span className=\"required-field\"\r\n\t\t\t\t\t\t\t\t\t\t  style={this.requiredStyle('organizationName')}>{this.errorMessages('organizationName')}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\tשם פרטי\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.firstName}\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"firstName\" id=\"firstName\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={shouldMarkError('firstName') ? 'error' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.handleChange(e, 'firstName')}/>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<span className=\"required-field\"\r\n\t\t\t\t\t\t\t\t\t\t  style={this.requiredStyle('firstName')}>{this.errorMessages('firstName')}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\tשם משפחה\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.lastName}\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"lastName\" id=\"lastName\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={shouldMarkError('lastName') ? 'error' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.handleChange(e, 'lastName')}/>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<span className=\"required-field\"\r\n\t\t\t\t\t\t\t\t\t\t  style={this.requiredStyle('lastName')}>{this.errorMessages('lastName')}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\tמספר תעודת זהות\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.username}\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={shouldMarkError('username') ? 'error' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.handleChange(e, 'username')}/>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<span className=\"required-field\"\r\n\t\t\t\t\t\t\t\t\t\t  style={this.requiredStyle('username')}>{this.errorMessages('username')}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\tכתובת דואר אלקטרוני\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.email}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={shouldMarkError('email') ? 'error' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.handleChange(e, 'email')}/>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<span className=\"required-field\"\r\n\t\t\t\t\t\t\t\t\t\t  style={this.requiredStyle('email')}>{this.errorMessages('email')}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\tמגדר\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tisRtl\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"בחר/י...\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"gender\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={shouldMarkError('gender') ? 'error' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.gender}\r\n\t\t\t\t\t\t\t\t\t\t\toptions={genderList}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(value) => this.setState({gender: value})}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<span className=\"required-field\"\r\n\t\t\t\t\t\t\t\t\t\t  style={this.requiredStyle('gender')}>{this.errorMessages('gender')}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\tסוג אחראי\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tisRtl\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"בחר/י...\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"responsibleType\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={shouldMarkError('responsibleType') ? 'error' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.responsibleType}\r\n\t\t\t\t\t\t\t\t\t\t\toptions={responsibleTypes}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(value) => this.setState({responsibleType: value})}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<span className=\"required-field\"\r\n\t\t\t\t\t\t\t\t\t\t  style={this.requiredStyle('gender')}>{this.errorMessages('responsibleType')}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<button className=\"sb-btn\" type=\"button\" onClick={this.checkOnSubmit}>SUBMIT</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{this.state.modalisOpen ?\r\n\t\t\t\t\t\t\t<Modal\r\n\t\t\t\t\t\t\t\t{...this.state}\r\n\t\t\t\t\t\t\t\tcloseModal={this.closeModal}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default RegistrationFormResponsible;","C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\registrationForms\\RegistrationFormOrganization.js",[],"C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\registrationForms\\RegistrationFormVolunteer.js",["181"],"import React, { Component } from 'react';\r\nimport Select from 'react-select';\r\nimport Modal from '../Modal.js';\r\nimport languagesList from '../../resources/languages';\r\nimport areasOfInterestList from '../../resources/areasOfInterest';\r\nimport citiesList from '../../resources/cities';\r\nimport genderList from '../../resources/genders';\r\nimport preferredDaysAndHoursList from '../../resources/preferredDaysAndHoursList';\r\nimport digitalDevicesList from '../../resources/digitalDevicesList';\r\nimport servicesList from '../../resources/servicesList';\r\nimport { registerVolunteer } from '../../services/server';\r\nimport { generatePassword, regexes } from '../../ClientUtils';\r\nimport './RegistrationForm.css';\r\n\r\nclass RegistrationFormVolunteer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            organizationName: '',\r\n            firstName: '',\r\n            lastName: '',\r\n            email: '',\r\n            username: '',\r\n            password: '',\r\n            birthYear: '',\r\n            city: '',\r\n            gender: '',\r\n            phoneNumber: '',\r\n            selectedAreasOfInterest: [],\r\n            selectedLanguages: [],\r\n            preferredDaysAndHours: [],\r\n            digitalDevices: [],\r\n            services: [],\r\n            additionalInformation: '',\r\n            valid: {\r\n                firstName: true,\r\n                lastName: true,\r\n                username: true,\r\n                email: true,\r\n                birthYear: true,\r\n                phoneNumber: true\r\n            },\r\n            touched: {\r\n                organizationName: false,\r\n                firstName: false,\r\n                lastName: false,\r\n                username: false,\r\n                email: false,\r\n                gender: false,\r\n                birthYear: false,\r\n                phoneNumber: false\r\n            },\r\n            modalisOpen: false\r\n        };\r\n\r\n        this.rexExpMap = {\r\n            additionalInformation: regexes.hebrewEnglishRegex,\r\n            organizationName: regexes.hebrewEnglishRegex,\r\n            firstName: regexes.hebrewEnglishRegex,\r\n            lastName: regexes.hebrewEnglishRegex,\r\n            username: regexes.usernameRegex,\r\n            email: regexes.emailRegex,\r\n            birthYear: regexes.yearRegex,\r\n            phoneNumber: regexes.phoneNumberRegex\r\n        }\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.checkData = this.checkData.bind(this);\r\n        this.toggleModal = this.toggleModal.bind(this);\r\n        this.checkOnSubmit = this.checkOnSubmit.bind(this);\r\n\r\n    }\r\n\r\n    handleChange = (e, name) => {\r\n        if(name === 'username' && this.state.password === ''){\r\n            this.setState({password: generatePassword()});\r\n        }\r\n        this.setState({[e.target.name]: e.target.value}, () => {\r\n            this.checkData(this.rexExpMap[name], this.state[name], this.state.valid[name], name)\r\n        });\r\n    }\r\n\r\n    checkData(regExp, stateName, stateValid, name) {\r\n        this.setState({\r\n            touched: {...this.state.touched, [name]: true}\r\n        });\r\n        if (regExp.test(stateName)) {\r\n            this.setState({\r\n                valid: {...this.state.valid, [name]: true}\r\n            });\r\n        } else {\r\n            this.setState({\r\n                valid: {...this.state.valid, [name]: false}\r\n            });\r\n        }\r\n    }\r\n\r\n    validate(firstName, lastName, username, email, birthYear, phoneNumber) {\r\n        return {\r\n            firstName: firstName.length === 0,\r\n            lastName: lastName.length === 0,\r\n            username: username.length === 0,\r\n            email: email.length === 0,\r\n            birthYear: birthYear.length === 0,\r\n            phoneNumber: phoneNumber.length === 0\r\n        };\r\n    }\r\n\r\n    requiredStyle(name) {\r\n        const show = (this.state[name] === \"\" || !this.state.valid[name]) && this.state.touched[name];\r\n        return {display: show ? 'block' : 'none'}\r\n    }\r\n\r\n    errorMessages(name) {\r\n        const requiredStr = 'This field is required.';\r\n        const invalidStr = 'Enter valid ' + name + '.';\r\n        return !this.state.valid[name] && this.state[name] !== \"\" ? invalidStr : requiredStr\r\n    }\r\n\r\n    checkOnSubmit() {\r\n        const {firstName, lastName, username, email, birthYear, phoneNumber} = this.state;\r\n        const formFilled = !(firstName === '' || lastName === '' || username === '' || email === '' || birthYear === '' || phoneNumber === '');\r\n        const formInvalid = Object.keys(this.state.valid).some(x => !this.state.valid[x]);\r\n        const formHasErrors = !formFilled || formInvalid;\r\n\r\n        if (!formHasErrors) {\r\n            this.handleSubmit()\r\n            this.toggleModal();\r\n        }\r\n        this.setState({\r\n            touched: {\r\n                organizationName: true,\r\n                firstName: true,\r\n                lastName: true,\r\n                username: true,\r\n                email: true,\r\n                birthYear: true\r\n            }\r\n        });\r\n    }\r\n\r\n    async handleSubmit() {\r\n        try {\r\n            console.log(this.state.password);\r\n            const response = await registerVolunteer(this.state);\r\n            await response.json();\r\n            this.setState({message: 'הרישום הצליח'})\r\n            this.toggleModal();\r\n            // this.props.history.push(\"/admin\");\r\n        } catch (error) {\r\n            this.setState({message: `הרישום נכשל. \\n ${error.message}`});\r\n            this.toggleModal();\r\n        }\r\n    }\r\n\r\n    toggleModal() {\r\n        this.setState(prevState => ({\r\n            modalisOpen: !prevState.modalisOpen\r\n        }));\r\n    }\r\n\r\n    render() {\r\n        const errors = this.validate(this.state.firstName, this.state.lastName,\r\n            this.state.username, this.state.email, this.state.birthYear, this.state.phoneNumber);\r\n        const shouldMarkError = (field) => {\r\n            const hasError = errors[field];\r\n            const shouldShow = this.state.touched[field];\r\n            return hasError ? shouldShow : false;\r\n        }\r\n        const helpMessage = (name) => {\r\n            return {display: shouldMarkError(name) ? 'none' : 'block'}\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                {/*<Navbar/>*/}\r\n                <h2 className=\"header\">\r\n                    טופס רישום מתנדב\r\n                </h2>\r\n                <div className=\"register-wrapper\">\r\n                    <div className=\"container\">\r\n                        <div className=\"register-form\">\r\n                            <div className=\"form\">\r\n                                <div className=\"field\">\r\n                                    <label>\r\n                                        שם ארגון\r\n                                        <Select\r\n                                            isRtl\r\n                                            placeholder=\"בחר/י...\"\r\n                                            name=\"organizationName\"\r\n                                            className={shouldMarkError(\"organizationName\") ? \"error\" : \"\"}\r\n                                            value={this.state.organizationName}\r\n                                            options={this.props.history.location.state}\r\n                                            onChange={(value) => this.setState({organizationName: value})}\r\n                                        />\r\n                                    </label>\r\n                                    <span className=\"required-field\"\r\n                                          style={this.requiredStyle('organizationName')}>{this.errorMessages('organizationName')}</span>\r\n                                </div>\r\n                                <div className=\"field\">\r\n                                    <label>\r\n                                        שם פרטי\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            value={this.state.firstName}\r\n                                            name=\"firstName\" id=\"firstName\"\r\n                                            className={shouldMarkError(\"firstName\") ? \"error\" : \"\"}\r\n                                            onChange={(e) => this.handleChange(e, \"firstName\")}/>\r\n                                    </label>\r\n                                    <span className=\"required-field\"\r\n                                          style={this.requiredStyle('firstName')}>{this.errorMessages('firstName')}</span>\r\n                                </div>\r\n\r\n                                <div className=\"field\">\r\n                                    <label>\r\n                                        שם משפחה\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            value={this.state.lastName}\r\n                                            name=\"lastName\" id=\"lastName\"\r\n                                            className={shouldMarkError(\"lastName\") ? \"error\" : \"\"}\r\n                                            onChange={(e) => this.handleChange(e, \"lastName\")}/>\r\n                                    </label>\r\n                                    <span className=\"required-field\"\r\n                                          style={this.requiredStyle('lastName')}>{this.errorMessages('lastName')}</span>\r\n                                </div>\r\n\r\n                                <div className=\"field\">\r\n                                    <label>\r\n                                        מספר תעודת זהות\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            value={this.state.username}\r\n                                            name=\"username\"\r\n                                            className={shouldMarkError(\"username\") ? \"error\" : \"\"}\r\n                                            onChange={(e) => this.handleChange(e, \"username\")}/>\r\n                                    </label>\r\n                                    <span className=\"required-field\"\r\n                                          style={this.requiredStyle('username')}>{this.errorMessages('username')}</span>\r\n                                </div>\r\n\r\n                                <div className=\"field\">\r\n                                    <label>\r\n                                        שנת לידה\r\n                                        <input\r\n                                            type=\"number\"\r\n                                            min=\"1900\"\r\n                                            max=\"2099\"\r\n                                            value={this.state.birthYear}\r\n                                            name=\"birthYear\"\r\n                                            className={shouldMarkError('birthYear') ? 'error' : ''}\r\n                                            onChange={(e) => this.handleChange(e, 'birthYear')}/>\r\n                                    </label>\r\n                                    <span className=\"required-field\"\r\n                                          style={this.requiredStyle('birthYear')}>{this.errorMessages('birthYear')}</span>\r\n                                </div>\r\n\r\n                                <div className=\"field\">\r\n                                    <label>\r\n                                        כתובת דואר אלקטרוני\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            name=\"email\"\r\n                                            value={this.state.email}\r\n                                            className={shouldMarkError(\"email\") ? \"error\" : \"\"}\r\n                                            onChange={(e) => this.handleChange(e, \"email\")}/>\r\n                                    </label>\r\n                                    <span className=\"required-field\"\r\n                                          style={this.requiredStyle('email')}>{this.errorMessages('email')}</span>\r\n                                </div>\r\n\r\n                                <div className=\"field\">\r\n                                    <label>\r\n                                        מספר טלפון\r\n                                        <input\r\n                                            type=\"number\"\r\n                                            name=\"phoneNumber\"\r\n                                            value={this.state.phoneNumber}\r\n                                            className={shouldMarkError('phoneNumber') ? 'error' : ''}\r\n                                            onChange={(e) => this.handleChange(e, 'phoneNumber')}/>\r\n                                    </label>\r\n                                    <span className=\"required-field\"\r\n                                          style={this.requiredStyle('phoneNumber')}>{this.errorMessages('phoneNumber')}</span>\r\n                                </div>\r\n\r\n                                <div className=\"field\">\r\n                                    <label>\r\n                                        עיר מגורים\r\n                                        <Select\r\n                                            isRtl\r\n                                            placeholder=\"בחר/י...\"\r\n                                            name=\"city\"\r\n                                            className={shouldMarkError(\"city\") ? \"error\" : \"\"}\r\n                                            value={this.state.city}\r\n                                            options={citiesList}\r\n                                            onChange={(value) => this.setState({city: value})}\r\n                                        />\r\n                                    </label>\r\n                                    <span className=\"required-field\"\r\n                                          style={this.requiredStyle('city')}>{this.errorMessages('city')}</span>\r\n                                </div>\r\n\r\n                                <div className=\"field\">\r\n                                    <label>\r\n                                        מגדר\r\n                                        <Select\r\n                                            isRtl\r\n                                            placeholder=\"בחר/י...\"\r\n                                            name=\"gender\"\r\n                                            className={shouldMarkError(\"gender\") ? \"error\" : \"\"}\r\n                                            value={this.state.gender}\r\n                                            options={genderList}\r\n                                            onChange={(value) => this.setState({gender: value})}\r\n                                        />\r\n                                    </label>\r\n                                    <span className=\"required-field\"\r\n                                          style={this.requiredStyle('gender')}>{this.errorMessages('gender')}</span>\r\n                                </div>\r\n\r\n                                <div className=\"field\">\r\n                                    <label>\r\n                                        תחומי עניין\r\n                                        <Select\r\n                                            isMulti\r\n                                            placeholder=\"בחירה מרובה...\"\r\n                                            isRtl\r\n                                            name=\"selectedAreasOfInterest\"\r\n                                            className={shouldMarkError(\"selectedAreasOfInterest\") ? \"error\" : \"\"}\r\n                                            value={this.state.selectedAreasOfInterest}\r\n                                            options={areasOfInterestList}\r\n                                            onChange={(values) => this.setState({selectedAreasOfInterest: values})}\r\n                                        />\r\n                                    </label>\r\n                                    <span className=\"required-field\"\r\n                                          style={this.requiredStyle('selectedAreasOfInterest')}>{this.errorMessages('selectedAreasOfInterest')}</span>\r\n                                </div>\r\n\r\n                                <div className=\"field\">\r\n                                    <label>\r\n                                        שפות\r\n                                        <Select\r\n                                            isMulti\r\n                                            placeholder=\"בחירה מרובה...\"\r\n                                            isRtl\r\n                                            name=\"languages\"\r\n                                            className={shouldMarkError(\"selectedLanguages\") ? \"error\" : \"\"}\r\n                                            value={this.state.selectedLanguages}\r\n                                            options={languagesList}\r\n                                            onChange={(values) => this.setState({selectedLanguages: values})}\r\n                                        />\r\n                                    </label>\r\n                                    <span className=\"required-field\"\r\n                                          style={this.requiredStyle('selectedLanguages')}>{this.errorMessages('selectedLanguages')}</span>\r\n                                </div>\r\n\r\n                                <div className=\"field\">\r\n                                    <label>\r\n                                        ימים ושעות מועדפים\r\n                                        <Select\r\n                                            isMulti\r\n                                            placeholder=\"בחירה מרובה...\"\r\n                                            isRtl\r\n                                            name=\"preferredDaysAndHours\"\r\n                                            className={shouldMarkError(\"preferredDaysAndHours\") ? \"error\" : \"\"}\r\n                                            value={this.state.preferredDaysAndHours}\r\n                                            options={preferredDaysAndHoursList}\r\n                                            onChange={(values) => this.setState({preferredDaysAndHours: values})}\r\n                                        />\r\n                                    </label>\r\n                                    <span className=\"required-field\"\r\n                                          style={this.requiredStyle('preferredDaysAndHours')}>{this.errorMessages('preferredDaysAndHours')}</span>\r\n                                </div>\r\n\r\n                                <div className=\"field\">\r\n                                    <label>\r\n                                        מכשירים טכנולוגיים שברשותי ורמת הידע בהם\r\n                                        <Select\r\n                                            isMulti\r\n                                            placeholder=\"בחירה מרובה...\"\r\n                                            isRtl\r\n                                            name=\"digitalDevices\"\r\n                                            className={shouldMarkError(\"digitalDevices\") ? \"error\" : \"\"}\r\n                                            value={this.state.digitalDevices}\r\n                                            options={digitalDevicesList}\r\n                                            onChange={(values) => this.setState({digitalDevices: values})}\r\n                                        />\r\n                                    </label>\r\n                                    <span className=\"required-field\"\r\n                                          style={this.requiredStyle('digitalDevices')}>{this.errorMessages('digitalDevices')}</span>\r\n                                </div>\r\n\r\n                                <div className=\"field\">\r\n                                    <label>\r\n                                        סוגי שירות מתאימים\r\n                                        <Select\r\n                                            isMulti\r\n                                            placeholder=\"בחירה מרובה...\"\r\n                                            isRtl\r\n                                            name=\"services\"\r\n                                            className={shouldMarkError(\"digitalDevices\") ? \"error\" : \"\"}\r\n                                            value={this.state.services}\r\n                                            options={servicesList}\r\n                                            onChange={(values) => this.setState({services: values})}\r\n                                        />\r\n                                    </label>\r\n                                    <span className=\"required-field\"\r\n                                          style={this.requiredStyle('services')}>{this.errorMessages('services')}</span>\r\n                                </div>\r\n\r\n                                <div className=\"field\">\r\n                                    <label>\r\n                                        עוד משהו שכדאי לדעת עלי\r\n                                        <input\r\n                                            name=\"additionalInformation\"\r\n                                            className={shouldMarkError(\"additionalInformation\") ? \"error\" : \"\"}\r\n                                            value={this.state.additionalInformation}\r\n                                            onChange={(e) => this.handleChange(e, \"additionalInformation\")}/>\r\n                                    </label>\r\n                                    <span className=\"required-field\"\r\n                                          style={this.requiredStyle('additionalInformation')}>{this.errorMessages('additionalInformation')}</span>\r\n                                </div>\r\n                                <button className=\"sb-btn\" type=\"button\" onClick={this.checkOnSubmit}>SUBMIT</button>\r\n                            </div>\r\n                        </div>\r\n                        {this.state.modalisOpen ?\r\n                            <Modal\r\n                                text='Your Data'\r\n                                {...this.state}\r\n                                closeModal={this.toggleModal}\r\n                            />\r\n                            : null\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default RegistrationFormVolunteer;","C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\registrationForms\\ResponsiblePage.js",[],"C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\manage\\ManageUsers.js",[],"C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\meetings\\MeetingTable.js",[],"C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\users\\AssignableUsers.js",[],"C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\meetings\\MeetingView.js",[],"C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\users\\AssignableUser.js",[],"C:\\Users\\ziv\\WebstormProjects\\project\\src\\services\\videoService.js",[],["182","183"],"C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\users\\UsersTable.js",[],"C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\users\\UserView.js",[],["184","185"],"C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\pages\\VideoCallPage.js",[],"C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\video\\VideoComponent.js",["186","187","188","189"],"import React from 'react';\r\nimport { merge } from 'lodash';\r\nimport AgoraRTC from 'agora-rtc-sdk';\r\n\r\nimport './canvas.css';\r\nimport '../../assets/fonts/css/icons.css';\r\n\r\nconst tile_canvas = {\r\n\t'1': ['span 12/span 24'],\r\n\t'2': ['span 12/span 12/13/25', 'span 12/span 12/13/13'],\r\n\t'3': ['span 6/span 12', 'span 6/span 12', 'span 6/span 12/7/19'],\r\n\t'4': [\r\n\t\t'span 6/span 12',\r\n\t\t'span 6/span 12',\r\n\t\t'span 6/span 12',\r\n\t\t'span 6/span 12/7/13'\r\n\t],\r\n\t'5': [\r\n\t\t'span 3/span 4/13/9',\r\n\t\t'span 3/span 4/13/13',\r\n\t\t'span 3/span 4/13/17',\r\n\t\t'span 3/span 4/13/21',\r\n\t\t'span 9/span 16/10/21'\r\n\t],\r\n\t'6': [\r\n\t\t'span 3/span 4/13/7',\r\n\t\t'span 3/span 4/13/11',\r\n\t\t'span 3/span 4/13/15',\r\n\t\t'span 3/span 4/13/19',\r\n\t\t'span 3/span 4/13/23',\r\n\t\t'span 9/span 16/10/21'\r\n\t],\r\n\t'7': [\r\n\t\t'span 3/span 4/13/5',\r\n\t\t'span 3/span 4/13/9',\r\n\t\t'span 3/span 4/13/13',\r\n\t\t'span 3/span 4/13/17',\r\n\t\t'span 3/span 4/13/21',\r\n\t\t'span 3/span 4/13/25',\r\n\t\t'span 9/span 16/10/21'\r\n\t]\r\n};\r\n\r\n/**\r\n * @prop appId uid\r\n * @prop transcode attendeeMode videoProfile channel baseMode\r\n */\r\nclass VideoComponent extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tdisplayMode: 'pip',\r\n\t\t\tstreamList: [],\r\n\t\t\treadyState: false,\r\n\t\t\tstateSharing: false\r\n\t\t};\r\n\t\tthis.client = {};\r\n\t\tthis.localStream = {};\r\n\t\tthis.shareClient = {};\r\n\t\tthis.shareStream = {};\r\n\t}\r\n\r\n\tcomponentWillMount() {\r\n\t\tlet $ = this.props.videoOptions;\r\n\t\tconsole.log($);\r\n\t\t// init AgoraRTC local client\r\n\t\tthis.client = AgoraRTC.createClient({mode: $.transcode});\r\n\t\tthis.client.init($.appId, () => {\r\n\t\t\tconsole.log('AgoraRTC client initialized');\r\n\t\t\tthis.subscribeStreamEvents();\r\n\t\t\tthis.client.join($.appId, $.channel, $.uid, (uid) => {\r\n\t\t\t\tthis.setState(uid);\r\n\t\t\t\tconsole.log('User ' + uid + ' join channel successfully');\r\n\t\t\t\tconsole.log('At ' + new Date().toLocaleTimeString());\r\n\t\t\t\t// create local stream\r\n\t\t\t\t// It is not recommended to setState in function addStream\r\n\t\t\t\tthis.localStream = this.streamInit(uid, $.attendeeMode, $.videoProfile);\r\n\t\t\t\tthis.localStream.init(\r\n\t\t\t\t\t() => {\r\n\t\t\t\t\t\tif ($.attendeeMode !== 'audience') {\r\n\t\t\t\t\t\t\tthis.addStream(this.localStream, true);\r\n\t\t\t\t\t\t\tthis.client.publish(this.localStream, (err) => {\r\n\t\t\t\t\t\t\t\tconsole.log('Publish local stream error: ' + err);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.setState({readyState: true});\r\n\t\t\t\t\t},\r\n\t\t\t\t\t(err) => {\r\n\t\t\t\t\t\tconsole.log('getUserMedia failed', err);\r\n\t\t\t\t\t\tthis.setState({readyState: true});\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\t// add listener to control btn group\r\n\t\tlet canvas = document.querySelector('#ag-canvas');\r\n\t\tlet btnGroup = document.querySelector('.ag-btn-group');\r\n\t\tcanvas.addEventListener('mousemove', () => {\r\n\t\t\tif (global._toolbarToggle) {\r\n\t\t\t\tclearTimeout(global._toolbarToggle);\r\n\t\t\t}\r\n\t\t\tbtnGroup.classList.add('active');\r\n\t\t\tglobal._toolbarToggle = setTimeout(function () {\r\n\t\t\t\tbtnGroup.classList.remove('active');\r\n\t\t\t}, 2000);\r\n\t\t});\r\n\t}\r\n\r\n\t// componentWillUnmount () {\r\n\t//     // remove listener\r\n\t//     let canvas = document.querySelector('#ag-canvas')\r\n\t//     canvas.removeEventListener('mousemove')\r\n\t// }\r\n\r\n\tcomponentDidUpdate() {\r\n\t\t// rerendering\r\n\t\tlet canvas = document.querySelector('#ag-canvas');\r\n\t\t// pip mode (can only use when less than 4 people in channel)\r\n\t\tif (this.state.displayMode === 'pip') {\r\n\t\t\tlet no = this.state.streamList.length;\r\n\t\t\tif (no > 4) {\r\n\t\t\t\tthis.setState({displayMode: 'tile'});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.setState(prevState => prevState.streamList.map((item, index) => {\r\n\t\t\t\tlet id = item.getId();\r\n\t\t\t\tlet dom = document.querySelector('#ag-item-' + id);\r\n\t\t\t\tif (!dom) {\r\n\t\t\t\t\tdom = document.createElement('section');\r\n\t\t\t\t\tdom.setAttribute('id', 'ag-item-' + id);\r\n\t\t\t\t\tdom.setAttribute('class', 'ag-item');\r\n\t\t\t\t\tcanvas.appendChild(dom);\r\n\t\t\t\t\titem.play('ag-item-' + id);\r\n\t\t\t\t}\r\n\t\t\t\tif (index === no - 1) {\r\n\t\t\t\t\tdom.setAttribute('style', `grid-area: span 12/span 24/13/25`);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tdom.setAttribute(\r\n\t\t\t\t\t\t'style',\r\n\t\t\t\t\t\t`grid-area: span 3/span 4/${4 + 3 * index}/25;\r\n                    z-index:1;width:calc(100% - 20px);height:calc(100% - 20px)`\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t\titem.player.resize && item.player.resize();\r\n\t\t\t}));\r\n\t\t}\r\n\t\t// tile mode\r\n\t\telse if (this.state.displayMode === 'tile') {\r\n\t\t\tlet no = this.state.streamList.length;\r\n\t\t\tthis.state.streamList.map((item, index) => {\r\n\t\t\t\tlet id = item.getId();\r\n\t\t\t\tlet dom = document.querySelector('#ag-item-' + id);\r\n\t\t\t\tif (!dom) {\r\n\t\t\t\t\tdom = document.createElement('section');\r\n\t\t\t\t\tdom.setAttribute('id', 'ag-item-' + id);\r\n\t\t\t\t\tdom.setAttribute('class', 'ag-item');\r\n\t\t\t\t\tcanvas.appendChild(dom);\r\n\t\t\t\t\titem.play('ag-item-' + id);\r\n\t\t\t\t}\r\n\t\t\t\tdom.setAttribute('style', `grid-area: ${tile_canvas[no][index]}`);\r\n\t\t\t\titem.player.resize && item.player.resize();\r\n\t\t\t});\r\n\t\t}\r\n\t\t// screen share mode (tbd)\r\n\t\telse if (this.state.displayMode === 'share') {\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.client && this.client.unpublish(this.localStream);\r\n\t\tthis.localStream && this.localStream.close();\r\n\t\tif (this.state.stateSharing) {\r\n\t\t\tthis.shareClient && this.shareClient.unpublish(this.shareStream);\r\n\t\t\tthis.shareStream && this.shareStream.close();\r\n\t\t}\r\n\t\tthis.client &&\r\n\t\tthis.client.leave(\r\n\t\t\t() => {\r\n\t\t\t\tconsole.log('Client succeed to leave.');\r\n\t\t\t},\r\n\t\t\t() => {\r\n\t\t\t\tconsole.log('Client failed to leave.');\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tstreamInit = (uid, attendeeMode, videoProfile, config) => {\r\n\t\tlet defaultConfig = {\r\n\t\t\tstreamID: uid,\r\n\t\t\taudio: true,\r\n\t\t\tvideo: true,\r\n\t\t\tscreen: false\r\n\t\t};\r\n\r\n\t\tswitch (attendeeMode) {\r\n\t\t\tcase 'audio-only':\r\n\t\t\t\tdefaultConfig.video = false;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'audience':\r\n\t\t\t\tdefaultConfig.video = false;\r\n\t\t\t\tdefaultConfig.audio = false;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\tcase 'video':\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tlet stream = AgoraRTC.createStream(merge(defaultConfig, config));\r\n\t\tstream.setVideoProfile(videoProfile);\r\n\t\treturn stream;\r\n\t};\r\n\r\n\tsubscribeStreamEvents = () => {\r\n\t\tlet rt = this;\r\n\t\trt.client.on('stream-added', function (evt) {\r\n\t\t\tlet stream = evt.stream;\r\n\t\t\tconsole.log('New stream added: ' + stream.getId());\r\n\t\t\tconsole.log('At ' + new Date().toLocaleTimeString());\r\n\t\t\tconsole.log('Subscribe ', stream);\r\n\t\t\trt.client.subscribe(stream, function (err) {\r\n\t\t\t\tconsole.log('Subscribe stream failed', err);\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\trt.client.on('peer-leave', function (evt) {\r\n\t\t\tconsole.log('Peer has left: ' + evt.uid);\r\n\t\t\tconsole.log(new Date().toLocaleTimeString());\r\n\t\t\tconsole.log(evt);\r\n\t\t\trt.removeStream(evt.uid);\r\n\t\t});\r\n\r\n\t\trt.client.on('stream-subscribed', function (evt) {\r\n\t\t\tlet stream = evt.stream;\r\n\t\t\tconsole.log('Got stream-subscribed event');\r\n\t\t\tconsole.log(new Date().toLocaleTimeString());\r\n\t\t\tconsole.log('Subscribe remote stream successfully: ' + stream.getId());\r\n\t\t\tconsole.log(evt);\r\n\t\t\trt.addStream(stream);\r\n\t\t});\r\n\r\n\t\trt.client.on('stream-removed', function (evt) {\r\n\t\t\tlet stream = evt.stream;\r\n\t\t\tconsole.log('Stream removed: ' + stream.getId());\r\n\t\t\tconsole.log(new Date().toLocaleTimeString());\r\n\t\t\tconsole.log(evt);\r\n\t\t\trt.removeStream(stream.getId());\r\n\t\t});\r\n\t};\r\n\r\n\tremoveStream = (uid) => {\r\n\t\tthis.state.streamList.map((item, index) => {\r\n\t\t\tif (item.getId() === uid) {\r\n\t\t\t\titem.close();\r\n\t\t\t\tlet element = document.querySelector('#ag-item-' + uid);\r\n\t\t\t\tif (element) {\r\n\t\t\t\t\telement.parentNode.removeChild(element);\r\n\t\t\t\t}\r\n\t\t\t\tlet tempList = [...this.state.streamList];\r\n\t\t\t\ttempList.splice(index, 1);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tstreamList: tempList\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\taddStream = (stream, push = false) => {\r\n\t\tlet repeatition = this.state.streamList.some((item) => {\r\n\t\t\treturn item.getId() === stream.getId();\r\n\t\t});\r\n\t\tif (repeatition) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (push) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tstreamList: this.state.streamList.concat([stream])\r\n\t\t\t});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({\r\n\t\t\t\tstreamList: [stream].concat(this.state.streamList)\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\thandleCamera = (e) => {\r\n\t\te.currentTarget.classList.toggle('off');\r\n\t\tthis.localStream.isVideoOn()\r\n\t\t\t? this.localStream.disableVideo()\r\n\t\t\t: this.localStream.enableVideo();\r\n\t};\r\n\r\n\thandleMic = (e) => {\r\n\t\te.currentTarget.classList.toggle('off');\r\n\t\tthis.localStream.isAudioOn()\r\n\t\t\t? this.localStream.disableAudio()\r\n\t\t\t: this.localStream.enableAudio();\r\n\t};\r\n\r\n\tswitchDisplay = (e) => {\r\n\t\tif (\r\n\t\t\te.currentTarget.classList.contains('disabled') ||\r\n\t\t\tthis.state.streamList.length <= 1\r\n\t\t) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.state.displayMode === 'pip') {\r\n\t\t\tthis.setState({displayMode: 'tile'});\r\n\t\t}\r\n\t\telse if (this.state.displayMode === 'tile') {\r\n\t\t\tthis.setState({displayMode: 'pip'});\r\n\t\t}\r\n\t\telse if (this.state.displayMode === 'share') {\r\n\t\t\t// do nothing or alert, tbd\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconsole.error('Display Mode can only be tile/pip/share');\r\n\t\t}\r\n\t};\r\n\r\n\thideRemote = (e) => {\r\n\t\tif (\r\n\t\t\te.currentTarget.classList.contains('disabled') ||\r\n\t\t\tthis.state.streamList.length <= 1\r\n\t\t) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet list;\r\n\t\tlet id = this.state.streamList[this.state.streamList.length - 1].getId();\r\n\t\tlist = Array.from(\r\n\t\t\tdocument.querySelectorAll(`.ag-item:not(#ag-item-${id})`)\r\n\t\t);\r\n\t\tlist.map((item) => {\r\n\t\t\tif (item.style.display !== 'none') {\r\n\t\t\t\titem.style.display = 'none';\r\n\t\t\t}\r\n\t\t\titem.style.display = 'block';\r\n\t\t});\r\n\t};\r\n\r\n\thandleExit = (e) => {\r\n\t\tif (e.currentTarget.classList.contains('disabled')) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tthis.client && this.client.unpublish(this.localStream);\r\n\t\t\tthis.localStream && this.localStream.close();\r\n\t\t\tif (this.state.stateSharing) {\r\n\t\t\t\tthis.shareClient && this.shareClient.unpublish(this.shareStream);\r\n\t\t\t\tthis.shareStream && this.shareStream.close();\r\n\t\t\t}\r\n\t\t\tthis.client &&\r\n\t\t\tthis.client.leave(\r\n\t\t\t\t() => {\r\n\t\t\t\t\tconsole.log('Client succeed to leave.');\r\n\t\t\t\t},\r\n\t\t\t\t() => {\r\n\t\t\t\t\tconsole.log('Client failed to leave.');\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t} finally {\r\n\t\t\tthis.setState({readyState: false});\r\n\t\t\tthis.client = null;\r\n\t\t\tthis.localStream = null;\r\n\t\t\t// redirect to index\r\n\t\t\twindow.location.hash = '';\r\n\t\t}\r\n\t};\r\n\r\n\tsharingScreen = (e) => {\r\n\t\tif (this.state.stateSharing) {\r\n\t\t\tthis.shareClient && this.shareClient.unpublish(this.shareStream);\r\n\t\t\tthis.shareStream && this.shareStream.close();\r\n\t\t\tthis.setState(prevState => prevState.stateSharing = false);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState(prevState => prevState.stateSharing = true);\r\n\t\t\tlet $ = this.props.videoOptions;\r\n\t\t\t// init AgoraRTC local client\r\n\t\t\tthis.shareClient = AgoraRTC.createClient({mode: $.transcode});\r\n\t\t\tthis.shareClient.init($.appId, () => {\r\n\t\t\t\tconsole.log('AgoraRTC client initialized');\r\n\t\t\t\tthis.subscribeStreamEvents();\r\n\t\t\t\tthis.shareClient.join($.appId, $.channel, $.uid, (uid) => {\r\n\t\t\t\t\tthis.setState(prevState => prevState.uid = uid);\r\n\t\t\t\t\tconsole.log('User ' + uid + ' join channel successfully');\r\n\t\t\t\t\tconsole.log('At ' + new Date().toLocaleTimeString());\r\n\t\t\t\t\t// create local stream\r\n\t\t\t\t\t// It is not recommended to setState in function addStream\r\n\t\t\t\t\tthis.shareStream = this.streamInitSharing(\r\n\t\t\t\t\t\tuid,\r\n\t\t\t\t\t\t$.attendeeMode,\r\n\t\t\t\t\t\t$.videoProfile\r\n\t\t\t\t\t);\r\n\t\t\t\t\tthis.shareStream.init(\r\n\t\t\t\t\t\t() => {\r\n\t\t\t\t\t\t\tif ($.attendeeMode !== 'audience') {\r\n\t\t\t\t\t\t\t\tthis.addStream(this.shareStream, true);\r\n\t\t\t\t\t\t\t\tthis.shareClient.publish(this.shareStream, (err) => {\r\n\t\t\t\t\t\t\t\t\tconsole.log('Publish local stream error: ' + err);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.setState({readyState: true});\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t(err) => {\r\n\t\t\t\t\t\t\tconsole.log('getUserMedia failed', err);\r\n\t\t\t\t\t\t\tthis.setState({readyState: true});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tstreamInitSharing = (uid, attendeeMode, videoProfile, config) => {\r\n\t\tlet defaultConfig = {\r\n\t\t\tstreamID: uid,\r\n\t\t\taudio: true,\r\n\t\t\tvideo: false,\r\n\t\t\tscreen: true\r\n\t\t};\r\n\r\n\t\tswitch (attendeeMode) {\r\n\t\t\tcase 'audio-only':\r\n\t\t\t\tdefaultConfig.video = false;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'audience':\r\n\t\t\t\tdefaultConfig.video = false;\r\n\t\t\t\tdefaultConfig.audio = false;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\tcase 'video':\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tlet stream = AgoraRTC.createStream(merge(defaultConfig, config));\r\n\t\tstream.setVideoProfile(videoProfile);\r\n\t\treturn stream;\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst style = {\r\n\t\t\tdisplay: 'grid',\r\n\t\t\tgridGap: '10px',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyItems: 'center',\r\n\t\t\tgridTemplateRows: 'repeat(12, auto)',\r\n\t\t\tgridTemplateColumns: 'repeat(24, auto)'\r\n\t\t};\r\n\t\tconst videoControlBtn =\r\n\t\t\tthis.props.videoOptions.attendeeMode === 'video' ? (\r\n\t\t\t\t<span\r\n\t\t\t\t\tonClick={this.handleCamera}\r\n\t\t\t\t\tclassName=\"ag-btn videoControlBtn\"\r\n\t\t\t\t\ttitle=\"Enable/Disable Video\"\r\n\t\t\t\t>\r\n          <i className=\"ag-icon ag-icon-camera\"></i>\r\n          <i className=\"ag-icon ag-icon-camera-off\"></i>\r\n        </span>\r\n\t\t\t) : (\r\n\t\t\t\t''\r\n\t\t\t);\r\n\r\n\t\tconst audioControlBtn =\r\n\t\t\tthis.props.videoOptions.attendeeMode !== 'audience' ? (\r\n\t\t\t\t<span\r\n\t\t\t\t\tonClick={this.handleMic}\r\n\t\t\t\t\tclassName=\"ag-btn audioControlBtn\"\r\n\t\t\t\t\ttitle=\"Enable/Disable Audio\"\r\n\t\t\t\t>\r\n          <i className=\"ag-icon ag-icon-mic\"></i>\r\n          <i className=\"ag-icon ag-icon-mic-off\"></i>\r\n        </span>\r\n\t\t\t) : (\r\n\t\t\t\t''\r\n\t\t\t);\r\n\r\n\t\tconst switchDisplayBtn = (\r\n\t\t\t<span\r\n\t\t\t\tonClick={this.switchDisplay}\r\n\t\t\t\tclassName={\r\n\t\t\t\t\tthis.state.streamList.length > 4\r\n\t\t\t\t\t\t? 'ag-btn displayModeBtn disabled'\r\n\t\t\t\t\t\t: 'ag-btn displayModeBtn'\r\n\t\t\t\t}\r\n\t\t\t\ttitle=\"Switch Display Mode\"\r\n\t\t\t>\r\n        <i className=\"ag-icon ag-icon-switch-display\"></i>\r\n      </span>\r\n\t\t);\r\n\t\tconst hideRemoteBtn = (\r\n\t\t\t<span\r\n\t\t\t\tclassName={\r\n\t\t\t\t\tthis.state.streamList.length > 4 || this.state.displayMode !== 'pip'\r\n\t\t\t\t\t\t? 'ag-btn disableRemoteBtn disabled'\r\n\t\t\t\t\t\t: 'ag-btn disableRemoteBtn'\r\n\t\t\t\t}\r\n\t\t\t\tonClick={this.hideRemote}\r\n\t\t\t\ttitle=\"Hide Remote Stream\"\r\n\t\t\t>\r\n        <i className=\"ag-icon ag-icon-remove-pip\"></i>\r\n      </span>\r\n\t\t);\r\n\t\tconst exitBtn = (\r\n\t\t\t<span\r\n\t\t\t\tonClick={this.handleExit}\r\n\t\t\t\tclassName={\r\n\t\t\t\t\tthis.state.readyState ? 'ag-btn exitBtn' : 'ag-btn exitBtn disabled'\r\n\t\t\t\t}\r\n\t\t\t\ttitle=\"Exit\"\r\n\t\t\t>\r\n        <i className=\"ag-icon ag-icon-leave\"></i>\r\n      </span>\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<div id=\"ag-canvas\" style={style}>\r\n\t\t\t\t<div className=\"ag-btn-group\">\r\n\t\t\t\t\t{exitBtn}\r\n\t\t\t\t\t{videoControlBtn}\r\n\t\t\t\t\t{audioControlBtn}\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tonClick={this.sharingScreen}\r\n\t\t\t\t\t\t\tclassName=\"ag-btn shareScreenBtn\"\r\n\t\t\t\t\t\t\ttitle=\"Share/unShare Screen\"\r\n\t\t\t\t\t\t>\r\n              <i className=\"ag-icon ag-icon-screen-share\"></i>\r\n            </span>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{switchDisplayBtn}\r\n\t\t\t\t\t{hideRemoteBtn}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport { VideoComponent };\r\n","C:\\Users\\ziv\\WebstormProjects\\project\\src\\agora.config.js",[],"C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\pages\\ElderlyPage.js",[],"C:\\Users\\ziv\\WebstormProjects\\project\\src\\services\\errorHandler.js",[],"C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\datePicker\\DateModal.js",[],"C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\datePicker\\dateAndTimePicker.js",[],"C:\\Users\\ziv\\WebstormProjects\\project\\src\\components\\pages\\ChangePasswordPage.js",[],{"ruleId":"190","replacedBy":"191"},{"ruleId":"192","replacedBy":"193"},{"ruleId":"194","severity":1,"message":"195","line":12,"column":23,"nodeType":"196","messageId":"197","endLine":12,"endColumn":24,"suggestions":"198"},{"ruleId":"194","severity":1,"message":"199","line":12,"column":47,"nodeType":"196","messageId":"197","endLine":12,"endColumn":48,"suggestions":"200"},{"ruleId":"194","severity":1,"message":"199","line":12,"column":63,"nodeType":"196","messageId":"197","endLine":12,"endColumn":64,"suggestions":"201"},{"ruleId":"202","severity":1,"message":"203","line":170,"column":9,"nodeType":"204","messageId":"205","endLine":170,"endColumn":20},{"ruleId":"202","severity":1,"message":"203","line":161,"column":9,"nodeType":"204","messageId":"205","endLine":161,"endColumn":20},{"ruleId":"202","severity":1,"message":"203","line":170,"column":15,"nodeType":"204","messageId":"205","endLine":170,"endColumn":26},{"ruleId":"190","replacedBy":"206"},{"ruleId":"192","replacedBy":"207"},{"ruleId":"190","replacedBy":"208"},{"ruleId":"192","replacedBy":"209"},{"ruleId":"210","severity":1,"message":"211","line":128,"column":70,"nodeType":"212","messageId":"213","endLine":128,"endColumn":72},{"ruleId":"210","severity":1,"message":"211","line":155,"column":44,"nodeType":"212","messageId":"213","endLine":155,"endColumn":46},{"ruleId":"210","severity":1,"message":"211","line":256,"column":43,"nodeType":"212","messageId":"213","endLine":256,"endColumn":45},{"ruleId":"210","severity":1,"message":"211","line":338,"column":19,"nodeType":"212","messageId":"213","endLine":338,"endColumn":21},"no-native-reassign",["214"],"no-negated-in-lhs",["215"],"no-useless-escape","Unnecessary escape character: \\+.","Literal","unnecessaryEscape",["216","217"],"Unnecessary escape character: \\..",["218","219"],["220","221"],"no-unused-vars","'helpMessage' is assigned a value but never used.","Identifier","unusedVar",["214"],["215"],["214"],["215"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","no-global-assign","no-unsafe-negation",{"messageId":"222","fix":"223","desc":"224"},{"messageId":"225","fix":"226","desc":"227"},{"messageId":"222","fix":"228","desc":"224"},{"messageId":"225","fix":"229","desc":"227"},{"messageId":"222","fix":"230","desc":"224"},{"messageId":"225","fix":"231","desc":"227"},"removeEscape",{"range":"232","text":"233"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"234","text":"235"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"236","text":"233"},{"range":"237","text":"235"},{"range":"238","text":"233"},{"range":"239","text":"235"},[517,518],"",[517,517],"\\",[541,542],[541,541],[557,558],[557,557]]